{"ast":null,"code":"var _jsxFileName = \"/workspaces/java-besic-to-advance/Messanger-App/frontend/src/components/ChatWindow.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Box, Paper, Typography, Divider, TextField, IconButton, Avatar, Tooltip, CircularProgress, Stack } from '@mui/material';\nimport SendIcon from '@mui/icons-material/Send';\nimport AttachFileIcon from '@mui/icons-material/AttachFile';\nimport CallIcon from '@mui/icons-material/Call';\nimport VideocamIcon from '@mui/icons-material/Videocam';\nimport LockIcon from '@mui/icons-material/Lock';\nimport ImageIcon from '@mui/icons-material/Image';\nimport PictureAsPdfIcon from '@mui/icons-material/PictureAsPdf';\nimport InsertDriveFileIcon from '@mui/icons-material/InsertDriveFile';\nimport { encryptMessage, decryptMessage, generateAESKey } from '../utils/encryption';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MessageBubble = ({\n  message,\n  isOwnMessage,\n  encryptionKey\n}) => {\n  _s();\n  var _message$senderName, _message$senderName2;\n  const [decryptedContent, setDecryptedContent] = useState('');\n  const [decrypting, setDecrypting] = useState(false);\n  useEffect(() => {\n    if (message.encrypted && encryptionKey) {\n      setDecrypting(true);\n      try {\n        const content = decryptMessage(message.content, encryptionKey);\n        setDecryptedContent(content || 'Failed to decrypt message');\n      } catch (error) {\n        console.error('Decryption error:', error);\n        setDecryptedContent('Failed to decrypt message');\n      } finally {\n        setDecrypting(false);\n      }\n    }\n  }, [message, encryptionKey]);\n  const displayContent = message.encrypted ? decryptedContent : message.content;\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      justifyContent: isOwnMessage ? 'flex-end' : 'flex-start',\n      mb: 2\n    },\n    children: [!isOwnMessage && /*#__PURE__*/_jsxDEV(Avatar, {\n      sx: {\n        width: 32,\n        height: 32,\n        mr: 1,\n        mt: 1\n      },\n      children: ((_message$senderName = message.senderName) === null || _message$senderName === void 0 ? void 0 : _message$senderName.charAt(0).toUpperCase()) || '?'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      children: [/*#__PURE__*/_jsxDEV(Paper, {\n        elevation: 1,\n        sx: {\n          p: 1.5,\n          borderRadius: 2,\n          maxWidth: '70%',\n          backgroundColor: isOwnMessage ? 'primary.main' : 'background.paper',\n          color: isOwnMessage ? 'white' : 'text.primary'\n        },\n        children: [decrypting ? /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 16,\n            sx: {\n              mr: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            children: \"Decrypting...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          children: displayContent\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"caption\",\n          sx: {\n            display: 'block',\n            textAlign: 'right',\n            mt: 0.5,\n            color: isOwnMessage ? 'rgba(255,255,255,0.7)' : 'text.secondary'\n          },\n          children: [new Date(message.timestamp).toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n          }), message.read && isOwnMessage && ' ✓✓', message.encrypted && /*#__PURE__*/_jsxDEV(LockIcon, {\n            sx: {\n              fontSize: 12,\n              ml: 0.5,\n              verticalAlign: 'middle'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), message.selfDestructTime && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        sx: {\n          display: 'block',\n          textAlign: isOwnMessage ? 'right' : 'left',\n          mt: 0.5,\n          color: 'error.main'\n        },\n        children: [\"Self-destructs in \", new Date(message.selfDestructTime).toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), isOwnMessage && /*#__PURE__*/_jsxDEV(Avatar, {\n      sx: {\n        width: 32,\n        height: 32,\n        ml: 1,\n        mt: 1\n      },\n      children: ((_message$senderName2 = message.senderName) === null || _message$senderName2 === void 0 ? void 0 : _message$senderName2.charAt(0).toUpperCase()) || '?'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_s(MessageBubble, \"V3i5ABGeL9D1I9ptBRFtkzo42qw=\");\n_c = MessageBubble;\nconst FilePreview = ({\n  file,\n  isOwnFile,\n  downloadUrl\n}) => {\n  var _file$senderName, _file$senderName2;\n  const getFileIcon = () => {\n    if (file.contentType.startsWith('image/')) {\n      return /*#__PURE__*/_jsxDEV(ImageIcon, {\n        sx: {\n          fontSize: 40\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 14\n      }, this);\n    } else if (file.contentType === 'application/pdf') {\n      return /*#__PURE__*/_jsxDEV(PictureAsPdfIcon, {\n        sx: {\n          fontSize: 40\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(InsertDriveFileIcon, {\n        sx: {\n          fontSize: 40\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 14\n      }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: 'flex',\n      justifyContent: isOwnFile ? 'flex-end' : 'flex-start',\n      mb: 2\n    },\n    children: [!isOwnFile && /*#__PURE__*/_jsxDEV(Avatar, {\n      sx: {\n        width: 32,\n        height: 32,\n        mr: 1,\n        mt: 1\n      },\n      children: ((_file$senderName = file.senderName) === null || _file$senderName === void 0 ? void 0 : _file$senderName.charAt(0).toUpperCase()) || '?'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 1,\n      sx: {\n        p: 1.5,\n        borderRadius: 2,\n        maxWidth: '70%',\n        backgroundColor: isOwnFile ? 'primary.main' : 'background.paper',\n        color: isOwnFile ? 'white' : 'text.primary'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        component: \"a\",\n        href: downloadUrl,\n        download: true,\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          textDecoration: 'none',\n          color: 'inherit'\n        },\n        children: [getFileIcon(), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            ml: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            sx: {\n              wordBreak: 'break-all'\n            },\n            children: file.filename\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            color: isOwnFile ? 'rgba(255,255,255,0.7)' : 'text.secondary',\n            children: [(file.size / 1024).toFixed(1), \" KB\", file.encrypted && /*#__PURE__*/_jsxDEV(LockIcon, {\n              sx: {\n                fontSize: 12,\n                ml: 0.5,\n                verticalAlign: 'middle'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        sx: {\n          display: 'block',\n          textAlign: 'right',\n          mt: 0.5,\n          color: isOwnFile ? 'rgba(255,255,255,0.7)' : 'text.secondary'\n        },\n        children: new Date(file.uploadTime).toLocaleTimeString([], {\n          hour: '2-digit',\n          minute: '2-digit'\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this), isOwnFile && /*#__PURE__*/_jsxDEV(Avatar, {\n      sx: {\n        width: 32,\n        height: 32,\n        ml: 1,\n        mt: 1\n      },\n      children: ((_file$senderName2 = file.senderName) === null || _file$senderName2 === void 0 ? void 0 : _file$senderName2.charAt(0).toUpperCase()) || '?'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 5\n  }, this);\n};\n_c2 = FilePreview;\nconst ChatWindow = ({\n  contact,\n  messages = [],\n  files = [],\n  userId,\n  onSendMessage,\n  onStartCall,\n  onFileUpload\n}) => {\n  _s2();\n  const [newMessage, setNewMessage] = useState('');\n  const [isEncrypted, setIsEncrypted] = useState(true);\n  const messagesEndRef = useRef(null);\n  const fileInputRef = useRef(null);\n\n  // Generate a unique encryption key for this conversation\n  const [encryptionKey] = useState(() => {\n    const storedKey = localStorage.getItem(`chat_key_${contact === null || contact === void 0 ? void 0 : contact.id}`);\n    if (storedKey) return storedKey;\n    const newKey = generateAESKey();\n    localStorage.setItem(`chat_key_${contact === null || contact === void 0 ? void 0 : contact.id}`, newKey);\n    return newKey;\n  });\n  useEffect(() => {\n    // Scroll to bottom when messages change\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({\n        behavior: 'smooth'\n      });\n    }\n  }, [messages]);\n  const handleSendMessage = e => {\n    e.preventDefault();\n    if (!newMessage.trim()) return;\n    let content = newMessage;\n\n    // Encrypt message if encryption is enabled\n    if (isEncrypted) {\n      content = encryptMessage(newMessage, encryptionKey);\n    }\n    onSendMessage({\n      content,\n      encrypted: isEncrypted,\n      recipientId: contact.id\n    });\n    setNewMessage('');\n  };\n  const handleFileSelect = e => {\n    if (e.target.files && e.target.files[0]) {\n      onFileUpload(e.target.files[0], contact.id, isEncrypted, encryptionKey);\n    }\n  };\n  const handleStartCall = type => {\n    onStartCall(contact.id, type);\n  };\n\n  // Sort messages and files by timestamp\n  const allItems = [...messages.map(m => ({\n    ...m,\n    type: 'message',\n    timestamp: new Date(m.timestamp)\n  })), ...files.map(f => ({\n    ...f,\n    type: 'file',\n    timestamp: new Date(f.uploadTime)\n  }))].sort((a, b) => a.timestamp - b.timestamp);\n  if (!contact) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        height: '100%',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        bgcolor: 'background.paper',\n        p: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        color: \"text.secondary\",\n        children: \"Select a contact to start messaging\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    sx: {\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 2,\n        display: 'flex',\n        alignItems: 'center',\n        borderBottom: 1,\n        borderColor: 'divider'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        sx: {\n          width: 40,\n          height: 40,\n          mr: 2\n        },\n        children: contact.username.charAt(0).toUpperCase()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          flexGrow: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          children: [contact.username, contact.online && /*#__PURE__*/_jsxDEV(Box, {\n            component: \"span\",\n            sx: {\n              display: 'inline-block',\n              ml: 1,\n              width: 10,\n              height: 10,\n              borderRadius: '50%',\n              backgroundColor: 'success.main'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          children: contact.online ? 'Online' : 'Offline'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Stack, {\n        direction: \"row\",\n        spacing: 1,\n        children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"Voice Call\",\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: () => handleStartCall('AUDIO'),\n            children: /*#__PURE__*/_jsxDEV(CallIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"Video Call\",\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: () => handleStartCall('VIDEO'),\n            children: /*#__PURE__*/_jsxDEV(VideocamIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        flexGrow: 1,\n        overflow: 'auto',\n        p: 2,\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      children: [allItems.length === 0 ? /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          flexGrow: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(LockIcon, {\n          sx: {\n            fontSize: 64,\n            color: 'text.disabled',\n            mb: 2\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          color: \"text.secondary\",\n          children: \"End-to-end encrypted conversation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.disabled\",\n          children: \"Send a message to start chatting\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 11\n      }, this) : allItems.map(item => item.type === 'message' ? /*#__PURE__*/_jsxDEV(MessageBubble, {\n        message: item,\n        isOwnMessage: item.senderId === userId,\n        encryptionKey: encryptionKey\n      }, `msg-${item.id}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 15\n      }, this) : /*#__PURE__*/_jsxDEV(FilePreview, {\n        file: item,\n        isOwnFile: item.senderId === userId,\n        downloadUrl: `/api/files/download/${item.id}`\n      }, `file-${item.id}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 15\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      component: \"form\",\n      onSubmit: handleSendMessage,\n      sx: {\n        p: 2,\n        borderTop: 1,\n        borderColor: 'divider',\n        display: 'flex',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n        title: isEncrypted ? \"End-to-end encrypted\" : \"Encryption disabled\",\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          color: isEncrypted ? 'primary' : 'default',\n          onClick: () => setIsEncrypted(!isEncrypted),\n          children: /*#__PURE__*/_jsxDEV(LockIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        ref: fileInputRef,\n        style: {\n          display: 'none'\n        },\n        onChange: handleFileSelect\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: () => fileInputRef.current.click(),\n        children: /*#__PURE__*/_jsxDEV(AttachFileIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        variant: \"outlined\",\n        placeholder: \"Type a message\",\n        size: \"small\",\n        value: newMessage,\n        onChange: e => setNewMessage(e.target.value),\n        sx: {\n          mx: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        type: \"submit\",\n        color: \"primary\",\n        disabled: !newMessage.trim(),\n        children: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 274,\n    columnNumber: 5\n  }, this);\n};\n_s2(ChatWindow, \"F9YZBpGLz1wgeBvLulTBO6oNA94=\");\n_c3 = ChatWindow;\nexport default ChatWindow;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"MessageBubble\");\n$RefreshReg$(_c2, \"FilePreview\");\n$RefreshReg$(_c3, \"ChatWindow\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Box","Paper","Typography","Divider","TextField","IconButton","Avatar","Tooltip","CircularProgress","Stack","SendIcon","AttachFileIcon","CallIcon","VideocamIcon","LockIcon","ImageIcon","PictureAsPdfIcon","InsertDriveFileIcon","encryptMessage","decryptMessage","generateAESKey","jsxDEV","_jsxDEV","MessageBubble","message","isOwnMessage","encryptionKey","_s","_message$senderName","_message$senderName2","decryptedContent","setDecryptedContent","decrypting","setDecrypting","encrypted","content","error","console","displayContent","sx","display","justifyContent","mb","children","width","height","mr","mt","senderName","charAt","toUpperCase","fileName","_jsxFileName","lineNumber","columnNumber","elevation","p","borderRadius","maxWidth","backgroundColor","color","alignItems","size","variant","textAlign","Date","timestamp","toLocaleTimeString","hour","minute","read","fontSize","ml","verticalAlign","selfDestructTime","_c","FilePreview","file","isOwnFile","downloadUrl","_file$senderName","_file$senderName2","getFileIcon","contentType","startsWith","component","href","download","textDecoration","wordBreak","filename","toFixed","uploadTime","_c2","ChatWindow","contact","messages","files","userId","onSendMessage","onStartCall","onFileUpload","_s2","newMessage","setNewMessage","isEncrypted","setIsEncrypted","messagesEndRef","fileInputRef","storedKey","localStorage","getItem","id","newKey","setItem","current","scrollIntoView","behavior","handleSendMessage","e","preventDefault","trim","recipientId","handleFileSelect","target","handleStartCall","type","allItems","map","m","f","sort","a","b","bgcolor","flexDirection","borderBottom","borderColor","username","flexGrow","online","direction","spacing","title","onClick","overflow","length","item","senderId","ref","onSubmit","borderTop","style","onChange","click","fullWidth","placeholder","value","mx","disabled","_c3","$RefreshReg$"],"sources":["/workspaces/java-besic-to-advance/Messanger-App/frontend/src/components/ChatWindow.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { \n  Box, Paper, Typography, Divider, TextField, IconButton,\n  Avatar, Tooltip, CircularProgress, Stack\n} from '@mui/material';\nimport SendIcon from '@mui/icons-material/Send';\nimport AttachFileIcon from '@mui/icons-material/AttachFile';\nimport CallIcon from '@mui/icons-material/Call';\nimport VideocamIcon from '@mui/icons-material/Videocam';\nimport LockIcon from '@mui/icons-material/Lock';\nimport ImageIcon from '@mui/icons-material/Image';\nimport PictureAsPdfIcon from '@mui/icons-material/PictureAsPdf';\nimport InsertDriveFileIcon from '@mui/icons-material/InsertDriveFile';\nimport { encryptMessage, decryptMessage, generateAESKey } from '../utils/encryption';\n\nconst MessageBubble = ({ message, isOwnMessage, encryptionKey }) => {\n  const [decryptedContent, setDecryptedContent] = useState('');\n  const [decrypting, setDecrypting] = useState(false);\n  \n  useEffect(() => {\n    if (message.encrypted && encryptionKey) {\n      setDecrypting(true);\n      try {\n        const content = decryptMessage(message.content, encryptionKey);\n        setDecryptedContent(content || 'Failed to decrypt message');\n      } catch (error) {\n        console.error('Decryption error:', error);\n        setDecryptedContent('Failed to decrypt message');\n      } finally {\n        setDecrypting(false);\n      }\n    }\n  }, [message, encryptionKey]);\n  \n  const displayContent = message.encrypted ? decryptedContent : message.content;\n  \n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        justifyContent: isOwnMessage ? 'flex-end' : 'flex-start',\n        mb: 2,\n      }}\n    >\n      {!isOwnMessage && (\n        <Avatar sx={{ width: 32, height: 32, mr: 1, mt: 1 }}>\n          {message.senderName?.charAt(0).toUpperCase() || '?'}\n        </Avatar>\n      )}\n      <Box>\n        <Paper\n          elevation={1}\n          sx={{\n            p: 1.5,\n            borderRadius: 2,\n            maxWidth: '70%',\n            backgroundColor: isOwnMessage ? 'primary.main' : 'background.paper',\n            color: isOwnMessage ? 'white' : 'text.primary',\n          }}\n        >\n          {decrypting ? (\n            <Box sx={{ display: 'flex', alignItems: 'center' }}>\n              <CircularProgress size={16} sx={{ mr: 1 }} />\n              <Typography variant=\"body1\">Decrypting...</Typography>\n            </Box>\n          ) : (\n            <Typography variant=\"body1\">{displayContent}</Typography>\n          )}\n          \n          <Typography \n            variant=\"caption\" \n            sx={{ \n              display: 'block', \n              textAlign: 'right',\n              mt: 0.5,\n              color: isOwnMessage ? 'rgba(255,255,255,0.7)' : 'text.secondary'\n            }}\n          >\n            {new Date(message.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n            {message.read && isOwnMessage && ' ✓✓'}\n            {message.encrypted && (\n              <LockIcon sx={{ fontSize: 12, ml: 0.5, verticalAlign: 'middle' }} />\n            )}\n          </Typography>\n        </Paper>\n        \n        {message.selfDestructTime && (\n          <Typography \n            variant=\"caption\" \n            sx={{ \n              display: 'block',\n              textAlign: isOwnMessage ? 'right' : 'left',\n              mt: 0.5,\n              color: 'error.main'\n            }}\n          >\n            Self-destructs in {new Date(message.selfDestructTime).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n          </Typography>\n        )}\n      </Box>\n      {isOwnMessage && (\n        <Avatar sx={{ width: 32, height: 32, ml: 1, mt: 1 }}>\n          {message.senderName?.charAt(0).toUpperCase() || '?'}\n        </Avatar>\n      )}\n    </Box>\n  );\n};\n\nconst FilePreview = ({ file, isOwnFile, downloadUrl }) => {\n  const getFileIcon = () => {\n    if (file.contentType.startsWith('image/')) {\n      return <ImageIcon sx={{ fontSize: 40 }} />;\n    } else if (file.contentType === 'application/pdf') {\n      return <PictureAsPdfIcon sx={{ fontSize: 40 }} />;\n    } else {\n      return <InsertDriveFileIcon sx={{ fontSize: 40 }} />;\n    }\n  };\n  \n  return (\n    <Box\n      sx={{\n        display: 'flex',\n        justifyContent: isOwnFile ? 'flex-end' : 'flex-start',\n        mb: 2,\n      }}\n    >\n      {!isOwnFile && (\n        <Avatar sx={{ width: 32, height: 32, mr: 1, mt: 1 }}>\n          {file.senderName?.charAt(0).toUpperCase() || '?'}\n        </Avatar>\n      )}\n      <Paper\n        elevation={1}\n        sx={{\n          p: 1.5,\n          borderRadius: 2,\n          maxWidth: '70%',\n          backgroundColor: isOwnFile ? 'primary.main' : 'background.paper',\n          color: isOwnFile ? 'white' : 'text.primary',\n        }}\n      >\n        <Box \n          component=\"a\" \n          href={downloadUrl} \n          download\n          sx={{ \n            display: 'flex', \n            alignItems: 'center',\n            textDecoration: 'none',\n            color: 'inherit'\n          }}\n        >\n          {getFileIcon()}\n          <Box sx={{ ml: 1 }}>\n            <Typography variant=\"body2\" sx={{ wordBreak: 'break-all' }}>\n              {file.filename}\n            </Typography>\n            <Typography variant=\"caption\" color={isOwnFile ? 'rgba(255,255,255,0.7)' : 'text.secondary'}>\n              {(file.size / 1024).toFixed(1)} KB\n              {file.encrypted && (\n                <LockIcon sx={{ fontSize: 12, ml: 0.5, verticalAlign: 'middle' }} />\n              )}\n            </Typography>\n          </Box>\n        </Box>\n        <Typography \n          variant=\"caption\" \n          sx={{ \n            display: 'block', \n            textAlign: 'right',\n            mt: 0.5,\n            color: isOwnFile ? 'rgba(255,255,255,0.7)' : 'text.secondary'\n          }}\n        >\n          {new Date(file.uploadTime).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n        </Typography>\n      </Paper>\n      {isOwnFile && (\n        <Avatar sx={{ width: 32, height: 32, ml: 1, mt: 1 }}>\n          {file.senderName?.charAt(0).toUpperCase() || '?'}\n        </Avatar>\n      )}\n    </Box>\n  );\n};\n\nconst ChatWindow = ({ \n  contact, \n  messages = [], \n  files = [],\n  userId, \n  onSendMessage,\n  onStartCall,\n  onFileUpload\n}) => {\n  const [newMessage, setNewMessage] = useState('');\n  const [isEncrypted, setIsEncrypted] = useState(true);\n  const messagesEndRef = useRef(null);\n  const fileInputRef = useRef(null);\n  \n  // Generate a unique encryption key for this conversation\n  const [encryptionKey] = useState(() => {\n    const storedKey = localStorage.getItem(`chat_key_${contact?.id}`);\n    if (storedKey) return storedKey;\n    \n    const newKey = generateAESKey();\n    localStorage.setItem(`chat_key_${contact?.id}`, newKey);\n    return newKey;\n  });\n  \n  useEffect(() => {\n    // Scroll to bottom when messages change\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth' });\n    }\n  }, [messages]);\n  \n  const handleSendMessage = (e) => {\n    e.preventDefault();\n    if (!newMessage.trim()) return;\n    \n    let content = newMessage;\n    \n    // Encrypt message if encryption is enabled\n    if (isEncrypted) {\n      content = encryptMessage(newMessage, encryptionKey);\n    }\n    \n    onSendMessage({\n      content,\n      encrypted: isEncrypted,\n      recipientId: contact.id\n    });\n    \n    setNewMessage('');\n  };\n  \n  const handleFileSelect = (e) => {\n    if (e.target.files && e.target.files[0]) {\n      onFileUpload(e.target.files[0], contact.id, isEncrypted, encryptionKey);\n    }\n  };\n  \n  const handleStartCall = (type) => {\n    onStartCall(contact.id, type);\n  };\n  \n  // Sort messages and files by timestamp\n  const allItems = [\n    ...messages.map(m => ({ ...m, type: 'message', timestamp: new Date(m.timestamp) })),\n    ...files.map(f => ({ ...f, type: 'file', timestamp: new Date(f.uploadTime) }))\n  ].sort((a, b) => a.timestamp - b.timestamp);\n  \n  if (!contact) {\n    return (\n      <Box sx={{ \n        height: '100%', \n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        bgcolor: 'background.paper',\n        p: 3\n      }}>\n        <Typography variant=\"h6\" color=\"text.secondary\">\n          Select a contact to start messaging\n        </Typography>\n      </Box>\n    );\n  }\n  \n  return (\n    <Paper sx={{ height: '100%', display: 'flex', flexDirection: 'column' }}>\n      {/* Header */}\n      <Box sx={{ \n        p: 2, \n        display: 'flex', \n        alignItems: 'center',\n        borderBottom: 1, \n        borderColor: 'divider'\n      }}>\n        <Avatar sx={{ width: 40, height: 40, mr: 2 }}>\n          {contact.username.charAt(0).toUpperCase()}\n        </Avatar>\n        <Box sx={{ flexGrow: 1 }}>\n          <Typography variant=\"h6\">\n            {contact.username}\n            {contact.online && (\n              <Box \n                component=\"span\" \n                sx={{ \n                  display: 'inline-block',\n                  ml: 1,\n                  width: 10, \n                  height: 10, \n                  borderRadius: '50%', \n                  backgroundColor: 'success.main'\n                }}\n              />\n            )}\n          </Typography>\n          <Typography variant=\"body2\" color=\"text.secondary\">\n            {contact.online ? 'Online' : 'Offline'}\n          </Typography>\n        </Box>\n        <Stack direction=\"row\" spacing={1}>\n          <Tooltip title=\"Voice Call\">\n            <IconButton onClick={() => handleStartCall('AUDIO')}>\n              <CallIcon />\n            </IconButton>\n          </Tooltip>\n          <Tooltip title=\"Video Call\">\n            <IconButton onClick={() => handleStartCall('VIDEO')}>\n              <VideocamIcon />\n            </IconButton>\n          </Tooltip>\n        </Stack>\n      </Box>\n      \n      {/* Messages */}\n      <Box sx={{ \n        flexGrow: 1, \n        overflow: 'auto',\n        p: 2,\n        display: 'flex',\n        flexDirection: 'column'\n      }}>\n        {allItems.length === 0 ? (\n          <Box sx={{ \n            flexGrow: 1,\n            display: 'flex', \n            flexDirection: 'column',\n            justifyContent: 'center',\n            alignItems: 'center'\n          }}>\n            <LockIcon sx={{ fontSize: 64, color: 'text.disabled', mb: 2 }} />\n            <Typography variant=\"body1\" color=\"text.secondary\">\n              End-to-end encrypted conversation\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.disabled\">\n              Send a message to start chatting\n            </Typography>\n          </Box>\n        ) : (\n          allItems.map((item) => (\n            item.type === 'message' ? (\n              <MessageBubble \n                key={`msg-${item.id}`}\n                message={item} \n                isOwnMessage={item.senderId === userId}\n                encryptionKey={encryptionKey}\n              />\n            ) : (\n              <FilePreview \n                key={`file-${item.id}`}\n                file={item} \n                isOwnFile={item.senderId === userId}\n                downloadUrl={`/api/files/download/${item.id}`}\n              />\n            )\n          ))\n        )}\n        <div ref={messagesEndRef} />\n      </Box>\n      \n      {/* Message Input */}\n      <Box\n        component=\"form\"\n        onSubmit={handleSendMessage}\n        sx={{ \n          p: 2, \n          borderTop: 1, \n          borderColor: 'divider',\n          display: 'flex',\n          alignItems: 'center'\n        }}\n      >\n        <Tooltip title={isEncrypted ? \"End-to-end encrypted\" : \"Encryption disabled\"}>\n          <IconButton \n            color={isEncrypted ? 'primary' : 'default'} \n            onClick={() => setIsEncrypted(!isEncrypted)}\n          >\n            <LockIcon />\n          </IconButton>\n        </Tooltip>\n        <input\n          type=\"file\"\n          ref={fileInputRef}\n          style={{ display: 'none' }}\n          onChange={handleFileSelect}\n        />\n        <IconButton onClick={() => fileInputRef.current.click()}>\n          <AttachFileIcon />\n        </IconButton>\n        <TextField\n          fullWidth\n          variant=\"outlined\"\n          placeholder=\"Type a message\"\n          size=\"small\"\n          value={newMessage}\n          onChange={(e) => setNewMessage(e.target.value)}\n          sx={{ mx: 1 }}\n        />\n        <IconButton type=\"submit\" color=\"primary\" disabled={!newMessage.trim()}>\n          <SendIcon />\n        </IconButton>\n      </Box>\n    </Paper>\n  );\n};\n\nexport default ChatWindow;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}